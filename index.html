<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>12 Top Drawers Demo</title>
  <style>
    :root{--drawer-height:40vh;--anim:300ms ease}
     body {
      min-height: 100vh;
      background: linear-gradient(to bottom, #000000, #1f2937);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 2rem;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    .buttons{display:flex;flex-wrap:wrap;gap:.5rem}
    .buttons button{padding:.5rem 1rem}

    /* drawer base */
    .drawer{
      position:fixed;
      left:0;right:0;
      top:0;
      bottom:0;
      transform: translateY(calc(-100% - 1px));
      transition: transform var(--anim);
      pointer-events:none; /* disabled when hidden */
      z-index:1000;
      display:flex;
      flex-direction:column;
    }
    .drawer.open{
      transform: translateY(0);
      pointer-events:auto;
    }

    /* backdrop takes full screen */
    .drawer-backdrop{
      position:absolute;
      left:0;right:0;
      top:0;bottom:0;
      background:rgba(0,0,0,.25);
      cursor:pointer;
      flex:1;
    }

    /* content panel that drops down (centered horizontally) */
    .drawer-panel{
      margin:0 auto;
      width:min(980px,98%);
      height:var(--drawer-height);
      background:#fff;
      box-shadow:0 6px 30px rgba(0,0,0,.25);
      border-bottom-left-radius:6px;
      border-bottom-right-radius:6px;
      overflow:auto;
      transform-origin:top center;
      position:relative;
      z-index:1;
    }

    .drawer-header{
      display:flex;align-items:center;justify-content:space-between;
      padding:.5rem 1rem;border-bottom:1px solid #eee;
    }
    .drawer-body{padding:1rem}

    .close-btn{background:#f0f0f0;border:1px solid #ddd;padding:.25rem .5rem;border-radius:4px}

    .feedback {margin-top:.5rem;font-weight:600}
    .feedback.correct {color:green}
    .feedback.incorrect {color:crimson}
    @media (max-width:480px){
      :root{--drawer-height:60vh}
    }

    .header {
      width: 100%;
      max-width: 42rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 3rem;
    }

    .stat {
      color: white;
    }

    .stat-right {
      text-align: right;
    }

    .stat-label {
      font-size: 0.875rem;
      opacity: 0.7;
      margin-bottom: 0.25rem;
    }

    .stat-value {
      font-size: 2.25rem;
      font-weight: 400;
    }

    .grid-container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      width: 100%;
      max-width: 42rem;
      aspect-ratio: 1;
    }

    .grid-cell {
      background-color: #374151;
      border-radius: 1rem;
      border: 2px solid #4b5563;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s;
    }

    .grid-cell:hover {
      background-color: #4b5563;
    }

    .grid-cell span {
      color: white;
      font-size: 1.5rem;
      opacity: 0.5;
    }
  </style>
</head>
<body>

    <div class="header">
        <div class="stat">
            <div class="stat-label">Score</div>
            <div class="stat-value" id="score">0</div>
        </div>
        <div class="button">
            <button id="start-button">Start</button>
        </div>
        <div class="stat stat-right">
            <div class="stat-label">Time</div>
            <div class="stat-value" id="timer">00:00</div>
        </div>
    </div>
  <!-- 3x3 Grid -->
  <div class="grid-container" id="grid">
    <!-- Grid cells will be generated by JavaScript -->
  </div>
  
  <!-- Drawers (one per button). Keep id consistent with data-index -->
  <!-- Each drawer body contains a small form with a text input, submit and feedback area -->
  <!-- It's important each drawer id/title is unique (drawer-1 .. drawer-12) -->
  <template id="drawer-template">
    <div class="drawer" id="">
      <div class="drawer-panel">
        <div class="drawer-header">
          <strong id="">Title</strong>
          <div><button class="close-btn" data-close>Close</button></div>
        </div>
        <div class="drawer-body">
          <form data-index="">
            <label>
              Your answer:
              <input type="text" name="answer" aria-label="Answer" required />
            </label>
            <button type="submit">Submit</button>
            <div class="feedback" role="status" aria-live="polite"></div>
          </form>
        </div>
      </div>
      <div class="drawer-backdrop" data-close></div>
    </div>
  </template>

  <!-- generate drawers 1..9 statically (expanded for clarity) -->
  <div class="drawer" id="drawer-1" aria-hidden="true" role="dialog" aria-labelledby="drawer-title-1">
    <div class="drawer-panel">
      <div class="drawer-header">
        <strong id="drawer-title-1">Window 1</strong>
        <div><button class="close-btn" data-close>Close</button></div>
      </div>
      <div class="drawer-body">
        Vanellope von Schweetz has recently infiltrated Ralph's digital diary,
        and seems to be leaking pictures of a super secret flag in its logs. 
        The parts are scattered and sometimes repeated. Can you reconstruct the original flag? 
        Download Ralphâ€™s diary logs and figure out the full flag from the fragments.
        <a href="diary.txt" download = "Ralph's diary"></a>Download File</a>

        <form data-index="1">
          <label>
            Your answer:
            <input type="text" name="answer" aria-label="Answer for window 1" required />
          </label>
          <button type="submit">Submit</button>
          <div class="feedback" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
    <div class="drawer-backdrop" data-close></div>
  </div>

  <!-- drawer-2 -->
  <div class="drawer" id="drawer-2" aria-hidden="true" role="dialog" aria-labelledby="drawer-title-2">
    <div class="drawer-panel">
      <div class="drawer-header">
        <strong id="drawer-title-2">Window 2</strong>
        <div><button class="close-btn" data-close>Close</button></div>
      </div>
      <div class="drawer-body">
        <form data-index="2">
          <label>
            Your answer:
            <input type="text" name="answer" aria-label="Answer for window 2" required />
          </label>
          <button type="submit">Submit</button>
          <div class="feedback" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
    <div class="drawer-backdrop" data-close></div>
  </div>

  <!-- drawer-3 -->
  <div class="drawer" id="drawer-3" aria-hidden="true" role="dialog" aria-labelledby="drawer-title-3">
    <div class="drawer-panel">
      <div class="drawer-header">
        <strong id="drawer-title-3">Window 3</strong>
        <div><button class="close-btn" data-close>Close</button></div>
      </div>
      <div class="drawer-body">
        <form data-index="3">
          <label>
            Your answer:
            <input type="text" name="answer" aria-label="Answer for window 3" required />
          </label>
          <button type="submit">Submit</button>
          <div class="feedback" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
    <div class="drawer-backdrop" data-close></div>
  </div>

  <!-- drawer-4 -->
  <div class="drawer" id="drawer-4" aria-hidden="true" role="dialog" aria-labelledby="drawer-title-4">
    <div class="drawer-panel">
      <div class="drawer-header">
        <strong id="drawer-title-4">Window 4</strong>
        <div><button class="close-btn" data-close>Close</button></div>
      </div>
      <div class="drawer-body">
        <form data-index="4">
          <label>
            Your answer:
            <input type="text" name="answer" aria-label="Answer for window 4" required />
          </label>
          <button type="submit">Submit</button>
          <div class="feedback" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
    <div class="drawer-backdrop" data-close></div>
  </div>

  <!-- drawer-5 -->
  <div class="drawer" id="drawer-5" aria-hidden="true" role="dialog" aria-labelledby="drawer-title-5">
    <div class="drawer-panel">
      <div class="drawer-header">
        <strong id="drawer-title-5">Window 5</strong>
        <div><button class="close-btn" data-close>Close</button></div>
      </div>
      <div class="drawer-body">
        <form data-index="5">
          <label>
            Your answer:
            <input type="text" name="answer" aria-label="Answer for window 5" required />
          </label>
          <button type="submit">Submit</button>
          <div class="feedback" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
    <div class="drawer-backdrop" data-close></div>
  </div>

  <!-- drawer-6 -->
  <div class="drawer" id="drawer-6" aria-hidden="true" role="dialog" aria-labelledby="drawer-title-6">
    <div class="drawer-panel">
      <div class="drawer-header">
        <strong id="drawer-title-6">Window 6</strong>
        <div><button class="close-btn" data-close>Close</button></div>
      </div>
      <div class="drawer-body">
        <form data-index="6">
          <label>
            Your answer:
            <input type="text" name="answer" aria-label="Answer for window 6" required />
          </label>
          <button type="submit">Submit</button>
          <div class="feedback" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
    <div class="drawer-backdrop" data-close></div>
  </div>

  <!-- drawer-7 -->
  <div class="drawer" id="drawer-7" aria-hidden="true" role="dialog" aria-labelledby="drawer-title-7">
    <div class="drawer-panel">
      <div class="drawer-header">
        <strong id="drawer-title-7">Window 7</strong>
        <div><button class="close-btn" data-close>Close</button></div>
      </div>
      <div class="drawer-body">
        <form data-index="7">
          <label>
            Your answer:
            <input type="text" name="answer" aria-label="Answer for window 7" required />
          </label>
          <button type="submit">Submit</button>
          <div class="feedback" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
    <div class="drawer-backdrop" data-close></div>
  </div>

  <!-- drawer-8 -->
  <div class="drawer" id="drawer-8" aria-hidden="true" role="dialog" aria-labelledby="drawer-title-8">
    <div class="drawer-panel">
      <div class="drawer-header">
        <strong id="drawer-title-8">Window 8</strong>
        <div><button class="close-btn" data-close>Close</button></div>
      </div>
      <div class="drawer-body">
        <form data-index="8">
          <label>
            Your answer:
            <input type="text" name="answer" aria-label="Answer for window 8" required />
          </label>
          <button type="submit">Submit</button>
          <div class="feedback" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
    <div class="drawer-backdrop" data-close></div>
  </div>

  <!-- drawer-9 -->
  <div class="drawer" id="drawer-9" aria-hidden="true" role="dialog" aria-labelledby="drawer-title-9">
    <div class="drawer-panel">
      <div class="drawer-header">
        <strong id="drawer-title-9">Window 9</strong>
        <div><button class="close-btn" data-close>Close</button></div>
      </div>
      <div class="drawer-body">
        <form data-index="9">
          <label>
            Your answer:
            <input type="text" name="answer" aria-label="Answer for window 9" required />
          </label>
          <button type="submit">Submit</button>
          <div class="feedback" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
    <div class="drawer-backdrop" data-close></div>
  </div>

  <script src="./TimerGrid.js"></script>
  <script src="./drawer-windows.js"></script>
  
</body>
</html>